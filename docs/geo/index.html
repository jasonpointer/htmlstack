<!DOCTYPE html>
<html>
<head>
<title>HTML5 DB</title>
<link  rel="stylesheet" type="text/css" href="../css/site.css" />

<!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
<style>
canvas {border:1px solid #666}
</style>
<script>

function success(position) {
	var h=document.getElementById("note");
	h.innerHTML = "found you!";
	//position.coords.latitude	double	decimal degrees
	//position.coords.longitude	double	decimal degrees
	//position.coords.altitude	double or null	meters above the reference ellipsoid
	//position.coords.accuracy	double	meters
	//position.coords.altitudeAccuracy	double or null	meters
	//position.coords.heading	double or null	degrees clockwise from true north
	//position.coords.speed	double or null	meters/second
	//timestamp	DOMTimeStamp	like a Date() object
	var r=document.getElementById("results")
	r.innerHTML = "<section>";
	r.innerHTML += "<span class=col>latitude: " + position.coords.latitude + "</span>";
	r.innerHTML += "<span class=col>longitude: " + position.coords.longitude + "</span>";
	r.innerHTML += "<span class=col>altitude: " + position.coords.altitude + "</span>";
	r.innerHTML += "</section>";
	r.innerHTML += "<section>";
	r.innerHTML += "<span class=col>accuracy: " + position.coords.accuracy + "</span>";
	r.innerHTML += "<span class=col>altitudeAccuracy: " + position.coords.altitudeAccuracy + "</span>";
	r.innerHTML += "<span class=col>heading: " + position.coords.heading + "</span>";
	r.innerHTML += "</section>";
	r.innerHTML += "<section>";
	r.innerHTML += "<span class=col>speed: " + position.coords.speed + "</span>";
	r.innerHTML += "<span class=col>time: " + position.timestamp + "</span>";
	r.innerHTML += "</section>";



}

function error(msg) {
  var h=document.getElementById("note");
  h.innerHTML = typeof msg == 'string' ? msg : "failed";
}

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(success, error);
} else {
  error('not supported');
}


</script>



<style>
#results{display:block;clear:both;padding:15px;}
.col {display:table-cell;width:190px;margin-left:5px;border-bottom:1px solid #C9C9C9}
h2{padding:15px;}
</style>

</head>
<header>This is geolocation data</header>

<section>
	<h2 id="note">locating you...</h2>
	<div id="results"></div>
</section>

<footer>back to <a href="/">htmlstack</a></footer>


<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-91014-16");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>